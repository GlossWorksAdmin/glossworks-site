<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GlossWorks — From Scratch to Showroom</title>
  <meta name="description" content="Premium car painting & repairs in the Brisbane Area. Fast turnaround, flawless finish. Get a free quote now." />
  <meta name="theme-color" content="#0D0D0D" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root { --black:#0D0D0D; --silver:#C0C0C0; --red:#E50914; --white:#FFFFFF; --maxw:1180px; --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.18); }
    *{box-sizing:border-box} html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--white);background:var(--black)}
    a{color:inherit;text-decoration:none} .container{width:min(100%,var(--maxw));margin-inline:auto;padding:0 20px}
    header{position:sticky;top:0;z-index:50;background:rgba(13,13,13,.8);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px}
    .logo-ring{width:26px;height:18px;border:3px solid var(--white);border-radius:50%;transform:rotate(-20deg);display:inline-block}
    .cta{background:var(--red);color:var(--white);padding:12px 18px;border-radius:999px;font-weight:700;border:none;cursor:pointer;box-shadow:var(--shadow)}
    .cta.secondary{background:transparent;border:1px solid rgba(255,255,255,.2);box-shadow:none}
    .hero{position:relative;isolation:isolate}
    .hero::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.82));z-index:-1}
    .hero-bg{position:absolute;inset:0;z-index:-2}
    .hero-bg picture,.hero-bg img{width:100%;height:100%;display:block;object-fit:cover}
    .hero-inner{padding:84px 0 56px;text-align:center}
    section{padding:56px 0}
    .card-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:18px}
    @media (max-width:880px){.card-grid{grid-template-columns:1fr}}
    .card{background:#141414;border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:22px;box-shadow:var(--shadow)}
    .card h3{margin:0 0 8px;font-size:20px}.muted{color:rgba(255,255,255,.72)}
    .steps{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:18px}
    @media (max-width:960px){.steps{grid-template-columns:1fr 1fr}} @media (max-width:560px){.steps{grid-template-columns:1fr}}
    .step{background:#141414;border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:22px;box-shadow:var(--shadow)}
    .step .num{width:34px;height:34px;border-radius:10px;display:grid;place-items:center;background:rgba(229,9,20,.15);color:var(--red);font-weight:800}
    .form-wrap{background:#101010;border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow)}
    form{display:grid;grid-template-columns:repeat(2,1fr);gap:14px} @media (max-width:720px){form{grid-template-columns:1fr}}
    label{font-weight:600;font-size:14px;color:rgba(255,255,255,.88)} input,textarea,select{width:100%;padding:12px 13px;margin-top:6px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0E0E0E;color:var(--white);outline:none}
    input::file-selector-button{background:#1a1a1a;border:1px solid rgba(255,255,255,.12);color:#ddd;padding:8px 12px;border-radius:999px;margin-right:12px;cursor:pointer}
    textarea{min-height:120px;resize:vertical} .full{grid-column:1 / -1} .disclaimer{font-size:12px;color:rgba(255,255,255,.6);margin-top:8px}
    footer{border-top:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.7);padding:34px 0}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand" aria-label="GlossWorks">
        <span class="logo-ring" aria-hidden="true"></span>
        <span>GLOSSWORKS</span>
      </div>
      <div style="display:flex;gap:10px;align-items:center">
        <a href="#quote" class="cta secondary">Get a Free Quote</a>
        <a href="#quote" class="cta">Book Now</a>
      </div>
    </div>
  </header>

  <section class="hero" aria-label="GlossWorks Hero">
    <div class="hero-bg" aria-hidden="true">
      <picture>
        <source media="(max-width: 640px)" srcset="/assets/hero-spraygun-1080x720.jpg">
        <source media="(max-width: 1024px)" srcset="/assets/hero-spraygun-1600x1067.jpg">
        <img src="/assets/hero-spraygun-2400x1600.jpg" alt="">
      </picture>
    </div>
    <div class="container hero-inner"><!-- intentionally empty: image carries branding --></div>
  </section>

  <section id="why">
    <div class="container">
      <h2 style="margin:0 0 18px">Why Choose GlossWorks?</h2>
      <div class="card-grid">
        <div class="card"><h3>Premium Finish</h3><p class="muted">Dealership-quality paintwork with colour-matched panels and a deep gloss clear coat.</p></div>
        <div class="card"><h3>Fast Turnaround</h3><p class="muted">Most jobs completed in 48–72 hours so you’re back on the road fast.</p></div>
        <div class="card"><h3>Local & Convenient</h3><p class="muted">Based in Brisbane and servicing the Brisbane area with flexible drop-off or pickup.</p></div>
        <div class="card"><h3>Hassle-Free Quotes</h3><p class="muted">Upload photos, tell us your car details, and we’ll text or email a price within 24 hours.</p></div>
      </div>
    </div>
  </section>

  <section aria-label="How it works">
    <div class="container">
      <h2 style="margin:0 0 18px">How It Works</h2>
      <div class="steps">
        <div class="step"><div class="num">1</div><h3>Request a Quote</h3><p class="muted">Fill the quick form with your details and photos of the damage.</p></div>
        <div class="step"><div class="num">2</div><h3>Receive Your Price</h3><p class="muted">We review and send a personalised quote within one business day.</p></div>
        <div class="step"><div class="num">3</div><h3>Book Your Repair</h3><p class="muted">Choose a time that suits you—drop-off or we collect.</p></div>
        <div class="step"><div class="num">4</div><h3>Drive Away Happy</h3><p class="muted">Pick up your car with a showroom-grade finish.</p></div>
      </div>
    </div>
  </section>

  <section id="quote" aria-label="Quote form">
    <div class="container">
      <h2 style="margin:0 0 18px">Get Your Free Quote</h2>
      <div class="form-wrap">
        <form id="quoteForm" novalidate>
          <div><label for="name">Name</label><input id="name" name="name" autocomplete="name" required /></div>
          <div><label for="phone">Phone</label><input id="phone" name="phone" inputmode="tel" autocomplete="tel" required /></div>
          <div><label for="email">Email <span style="opacity:.6">(optional)</span></label><input id="email" name="email" inputmode="email" autocomplete="email" /></div>
          <div><label for="suburb">Suburb</label><input id="suburb" name="suburb" required /></div>
          <div><label for="makeModel">Car Make & Model</label><input id="makeModel" name="makeModel" required /></div>
          <div><label for="date">Preferred Repair Date</label><input id="date" name="date" type="date" /></div>
          <div class="full"><label for="desc">Describe the damage</label><textarea id="desc" name="desc" placeholder="Where is the damage? Size, location, previous repairs, etc." required></textarea></div>
          <div class="full">
            <label for="photos">Upload photo(s) of the damage</label>
            <input id="photos" name="photos" type="file" accept="image/*" multiple required />
            <div id="preview" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:10px"></div>
            <p class="disclaimer">Max 6 images. We’ll compress them locally before sending to keep things fast.</p>
          </div>
          <div class="full" style="display:flex;gap:10px;align-items:center;justify-content:flex-start;margin-top:8px">
            <button class="cta" type="submit">Submit My Quote Request</button>
            <button class="cta secondary" type="button" id="downloadBtn">Download My Quote (offline)</button>
          </div>
          <p id="status" class="full" style="margin:8px 0 0;color:var(--silver)"></p>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <div>© <span id="y"></span> GlossWorks · Brisbane</div>
      <div>Contact: <a href="mailto:admin@glossworks.net">admin@glossworks.net</a></div>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
    const photos = document.getElementById('photos'); const preview = document.getElementById('preview');
    photos.addEventListener('change', async (e) => {
      preview.innerHTML = '';
      const files = Array.from(e.target.files).slice(0,6);
      for (const file of files) {
        const url = URL.createObjectURL(file); const img = new Image(); img.src = url; await img.decode();
        const canvas = document.createElement('canvas'); const max = 1600; let {width, height} = img;
        const ratio = Math.min(1, max/Math.max(width,height)); canvas.width = Math.round(width*ratio); canvas.height = Math.round(height*ratio);
        const ctx = canvas.getContext('2d'); ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        const blob = await new Promise(res => canvas.toBlob(res, 'image/jpeg', 0.8)); blob.name = file.name.replace(/\.[^.]+$/, '') + ".jpg";
        const thumb = document.createElement('img'); thumb.src = URL.createObjectURL(blob); thumb.alt = 'upload preview';
        thumb.style.cssText = 'width:96px;height:96px;object-fit:cover;border-radius:10px;border:1px solid rgba(255,255,255,.15)'; preview.appendChild(thumb);
        file._compressed = blob;
      }
    });
    const form = document.getElementById('quoteForm'); const statusEl = document.getElementById('status');
    form.addEventListener('submit', async (e) => {
      e.preventDefault(); statusEl.textContent = '';
      const data = new FormData(); ['name','phone','email','suburb','makeModel','date','desc'].forEach(id => data.append(id, document.getElementById(id).value));
      const files = Array.from(photos.files).slice(0,6); if (!files.length){ statusEl.textContent = 'Please upload at least one photo.'; return; }
      files.forEach((f)=> data.append('photos', f._compressed || f, (f._compressed?.name || f.name)));
      try { const resp = await fetch('/api/quote', { method:'POST', body:data });
        if (!resp.ok) throw new Error('Network error'); form.reset(); preview.innerHTML='';
        statusEl.textContent = "Thanks! Your request was sent. We'll be in touch within 24 hours.";
      } catch(err){ statusEl.textContent = 'Could not reach the server. You can tap \"Download My Quote\" and email it to us.'; }
    });
    document.getElementById('downloadBtn').addEventListener('click', async () => {
      const out = { ts: new Date().toISOString() }; ['name','phone','email','suburb','makeModel','date','desc'].forEach(id => out[id] = document.getElementById(id).value);
      const files = Array.from(photos.files).slice(0,6); const summary = files.map(f => ({ name:(f._compressed?.name||f.name), size:(f._compressed||f).size }));
      const blob = new Blob([ new TextEncoder().encode(JSON.stringify({meta: out, photos: summary}, null, 2)) ], { type:'application/json' });
      const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'glossworks-quote.json'; a.click(); URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
